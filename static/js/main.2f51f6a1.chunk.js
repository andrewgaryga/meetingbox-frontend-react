(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),i=a.n(s),l=(a(81),a(5)),o=a(6),c=a(8),h=a(7),u=a(9),m=a(3),g=a.n(m),d=a(4),p=a(11),f=a.n(p),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).findUnmatchedText=function(e,t){return!(!a.props.textToHighlight||e.indexOf(a.props.textToHighlight)>-1||t.indexOf(a.props.textToHighlight)>-1)},a.passId=function(e){a.setState({itemId:e})},a.getItemById=function(){return a.getMeetings().then(function(e){return a.setState({buildMeetings:e})}).catch(function(e){return console.log(e.message)}),a.state.buildMeetings.filter(function(e){return e.id===a.state.itemId})},a.isPassed=function(e){return Date.parse(e)<new Date},a.getMeetings=function(){var e=Object(d.a)(g.a.mark(function e(t){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://meetings-backend-e2w62dz1v.now.sh/meetings/");case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.toggleCancel=function(){var e=Object(d.a)(g.a.mark(function e(t,n){var r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t},e.next=3,fetch("https://meetings-backend-e2w62dz1v.now.sh/".concat(n,"/toggleComplete"),{method:"post",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 3:e.sent,a.props.toggleRefresh("meetings");case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.state={itemId:null,textToHighlight:"",buildMeetings:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getMeetings().then(function(t){return e.setState({buildMeetings:t})}).catch(function(e){return console.log(e.message)})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props.refresh;e.refresh!==a&&this.getMeetings().then(function(e){return t.setState({buildMeetings:e})}).catch(function(e){return console.log(e.message)})}},{key:"render",value:function(){var e=this;if(!this.state.itemId)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"card-container"},this.state.buildMeetings.map(function(t,a){return!t.display||e.findUnmatchedText(t.name,t.information)?null:r.a.createElement("article",{key:t.id,className:"card"},r.a.createElement("h4",{className:"card-title"},e.props.textToHighlight?r.a.createElement(f.a,{highlightClassName:"YourHighlightClass",searchWords:[e.props.textToHighlight],autoEscape:!0,textToHighlight:t.name}):t.name),r.a.createElement("p",{className:"card-text"},e.props.textToHighlight?r.a.createElement(f.a,{highlightClassName:"YourHighlightClass",searchWords:[e.props.textToHighlight],autoEscape:!0,textToHighlight:t.information}):t.information),r.a.createElement("small",{className:"card-text date"},e.isPassed(t.date.toString())?r.a.createElement("span",{className:"badge badge-passed"},"Passed"):"",t.isCancel?r.a.createElement("span",{className:"badge badge-cancel"},"Canceled"):"",t.date),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:t.isCancel?"text-small btn-uncancel":"text-small btn-cancel",onClick:function(){e.toggleCancel(t.id,"meetings")}},t.isCancel?"Uncancel":"Cancel"),r.a.createElement("button",{className:"btn-remove text-small",onClick:function(){e.props.toggleDelete(t.id,"meetings")}},"Delete"),r.a.createElement("button",{className:"btn-outline text-small",onClick:function(){e.passId(t.id)}},"Details")))})));var t=this.getItemById()[0];return r.a.createElement("main",{className:"card-container"},r.a.createElement("article",{key:t.id,className:"card details"},r.a.createElement("button",{className:"link-back",onClick:function(){e.passId(null)}},r.a.createElement("i",{className:"fas fa-arrow-left"}),"Go back"),r.a.createElement("h4",{className:"card-title"},this.props.textToHighlight?r.a.createElement(f.a,{highlightClassName:"YourHighlightClass",searchWords:[this.props.textToHighlight],autoEscape:!0,textToHighlight:t.name}):t.name),r.a.createElement("p",{className:"card-text"},this.props.textToHighlight?r.a.createElement(f.a,{highlightClassName:"YourHighlightClass",searchWords:[this.props.textToHighlight],autoEscape:!0,textToHighlight:t.information}):t.information),r.a.createElement("small",{className:"card-text date"},this.isPassed(t.date.toString())?r.a.createElement("span",{className:"badge badge-passed"},"Passed"):"",t.isCancel?r.a.createElement("span",{className:"badge badge-cancel"},"Canceled"):"",t.date),r.a.createElement("ul",{className:"personal-group"},r.a.createElement("li",{className:"personal-group-item"},"Included personal:"),t.personal.map(function(e){return r.a.createElement("li",{className:"personal-group-item",key:e},e)})),r.a.createElement("div",{className:"card-footer"},r.a.createElement("p",{className:"card-text"},"Location: ",t.location),r.a.createElement("button",{className:t.isCancel?"text-small btn-uncancel":"text-small btn-cancel",onClick:function(){e.toggleCancel(t.id,"meetings")}},t.isCancel?"Uncancel":"Cancel"),r.a.createElement("button",{className:"btn-remove text-small",onClick:function(){e.props.toggleDelete(t.id,"meetings")}},"Delete"))))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).findUnmatchedText=function(e,t,n,r){return!(!a.props.textToHighlight||e.indexOf(a.props.textToHighlight)>-1||t.indexOf(a.props.textToHighlight)>-1||n.indexOf(a.props.textToHighlight)>-1||r.indexOf(a.props.textToHighlight)>-1)},a.getPersonal=function(){var e=Object(d.a)(g.a.mark(function e(t){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://meetings-backend-e2w62dz1v.now.sh/personal/");case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={buildPersonal:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getPersonal().then(function(t){return e.setState({buildPersonal:t})}).catch(function(e){return console.log(e.message)})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props.refresh;e.refresh!==a&&this.getPersonal().then(function(e){return t.setState({buildPersonal:e})}).catch(function(e){return console.log(e.message)})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"card-container personal"},this.state.buildPersonal.map(function(t,a){return e.findUnmatchedText(t.name,t.surname,t.department,t.position)?null:r.a.createElement("article",{key:t.id,className:"card"},r.a.createElement("h4",{className:"card-title"},e.props.textToHighlight?r.a.createElement(f.a,{highlightClassName:"YourHighlightClass",searchWords:[e.props.textToHighlight],autoEscape:!0,textToHighlight:t.name}):t.name,"\xa0",e.props.textToHighlight?r.a.createElement(f.a,{highlightClassName:"YourHighlightClass",searchWords:[e.props.textToHighlight],autoEscape:!0,textToHighlight:t.surname}):t.surname),r.a.createElement("p",{className:"card-text"},e.props.textToHighlight?r.a.createElement(f.a,{highlightClassName:"YourHighlightClass",searchWords:[e.props.textToHighlight],autoEscape:!0,textToHighlight:t.department}):t.department,"\xa0 | \xa0",e.props.textToHighlight?r.a.createElement(f.a,{highlightClassName:"YourHighlightClass",searchWords:[e.props.textToHighlight],autoEscape:!0,textToHighlight:t.position}):t.position),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn-remove text-small",onClick:function(){e.props.toggleDelete(t.id,"personal")}},"Remove")))})))}}]),t}(n.Component),E=a(35),x=a(73),y=a(75),N=a(36),C=a.n(N),w=(a(130),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleAddMeeting=function(){var e=Object(d.a)(g.a.mark(function e(t,n,r,s,i){var l,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=C()(),o={id:l,name:t,information:n,personal:r,date:s,location:i},e.next=4,fetch("https://meetings-backend-e2w62dz1v.now.sh/meetings/add",{method:"POST",mode:"cors",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}});case 4:e.sent,a.props.toggleRefresh("meetings");case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),a.handleSelect=function(e){a.setState({personal:e})},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.handleDate=function(e){a.setState({date:e})},a.handleSubmit=function(e){e.preventDefault();var t=[];a.state.personal.forEach(function(e){t.push(e.value)}),a.handleAddMeeting(a.state.name,a.state.information,t,a.state.date.toString(),a.state.location)},a.selectOptionsInit=function(){var e=[],t=!0,n=!1,r=void 0;try{for(var s,i=a.state.buildPersonal[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var l=s.value;e.push({value:l.name+" "+l.surname,label:l.name+" "+l.surname})}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e},a.getPersonal=function(){var e=Object(d.a)(g.a.mark(function e(t){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://meetings-backend-e2w62dz1v.now.sh/personal/");case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",information:"",personal:null,date:new Date,location:"",selectOptions:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getPersonal().then(function(t){return e.setState({buildPersonal:t})}).catch(function(e){return console.log(e.message)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-title"},"Add new meeting"),r.a.createElement("form",{className:"form-styled",onSubmit:this.handleSubmit,id:this.props.id},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"name",type:"text",placeholder:"Name",value:this.state.name,onChange:this.handleChange,required:!0}),this.state.buildPersonal?r.a.createElement(y.a,{value:this.state.personal,onChange:this.handleSelect,options:this.selectOptionsInit(),isMulti:!0}):"loading...",r.a.createElement(x.a,{selected:this.state.date,onChange:this.handleDate,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"time"}),r.a.createElement("select",{name:"location",onChange:this.handleChange},r.a.createElement("option",{value:"Meeting room"},"Meeting room"),r.a.createElement("option",{value:"Projector room"},"Projector room"),r.a.createElement("option",{value:"Negotiation room"},"Negotiation room")),r.a.createElement("textarea",{name:"information",cols:"30",rows:"3",placeholder:"Information",value:this.state.message,onChange:this.handleChange,required:!0}),r.a.createElement("button",{className:"btn-outline"},"Add"))))}}]),t}(n.Component)),T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).buildSelectOptions=function(e,t){var n=[];if("department"===e){var s=!0,i=!1,l=void 0;try{for(var o,c=a.state.buildDepartments[Symbol.iterator]();!(s=(o=c.next()).done);s=!0){var h=o.value;n.push(r.a.createElement("option",{value:h.name,key:h.name},h.name))}}catch(b){i=!0,l=b}finally{try{s||null==c.return||c.return()}finally{if(i)throw l}}return n}if("position"===e){var u=!0,m=!1,g=void 0;try{for(var d,p=a.state.buildDepartments[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value;f.name===a.state.department&&(n=f.positions.map(function(e){return r.a.createElement("option",{value:e,key:e},e)}))}}catch(b){m=!0,g=b}finally{try{u||null==p.return||p.return()}finally{if(m)throw g}}return n.unshift(r.a.createElement("option",{value:"",key:"placeholder",disabled:!0,selected:!0},"Select position")),n}},a.getDepartments=function(){var e=Object(d.a)(g.a.mark(function e(t){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://meetings-backend-e2w62dz1v.now.sh/departments/");case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleAddPersonal=function(){var e=Object(d.a)(g.a.mark(function e(t,n,r,s){var i,l;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=C()(),l={id:i,name:t,surname:n,department:r,position:s},e.next=4,fetch("https://meetings-backend-e2w62dz1v.now.sh/personal/add",{method:"POST",mode:"cors",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}});case 4:e.sent,a.props.toggleRefresh("personal");case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.handleSelect=function(e){a.setState({personal:e})},a.handleSubmit=function(e){e.preventDefault(),a.handleAddPersonal(a.state.name,a.state.surname,a.state.department,a.state.position)},a.state={name:"",surname:"",department:"Sales",position:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getDepartments().then(function(t){return e.setState({buildDepartments:t})}).catch(function(e){return console.log(e.message)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-title"},"Add new worker"),r.a.createElement("form",{className:"form-styled",onSubmit:this.handleSubmit,id:this.props.id},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"name",type:"text",placeholder:"Name",value:this.state.name,onChange:this.handleChange,required:!0}),r.a.createElement("input",{name:"surname",type:"text",placeholder:"Surname",value:this.state.surname,onChange:this.handleChange,required:!0}),r.a.createElement("select",{name:"department",onChange:this.handleChange},this.state.buildDepartments?this.buildSelectOptions("department"):"loading..."),r.a.createElement("select",{name:"position",onChange:this.handleChange,required:!0},this.state.buildDepartments?this.buildSelectOptions("position"):"loading..."),r.a.createElement("button",{className:"btn-outline"},"Add"))))}}]),t}(n.Component);var O=function(e){return r.a.createElement("nav",{id:"single-line-menu",className:"single-nav menu render-toggle",role:"navigation"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",{className:"MeetingList"===e.whatToRender?"active":"",onClick:function(){return e.toggleRender("MeetingList")}},"Meetings")),r.a.createElement("li",null,r.a.createElement("button",{className:"PersonalList"===e.whatToRender?"active":"",onClick:function(){return e.toggleRender("PersonalList")}},"Personal"))))};var S=function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"form form-search"},r.a.createElement("div",{className:"icon-container"},r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement("input",{name:"search",type:"text",className:"search",placeholder:"Type to search...",onChange:e.handleSearch,value:e.filterText})))},k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleSearch=function(e){a.setState({textToHighlight:e.target.value})},a.toggleDelete=function(){var e=Object(d.a)(g.a.mark(function e(t,n){var r,s;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t},e.next=3,fetch("https://meetings-backend-e2w62dz1v.now.sh/".concat(n,"/delete"),{method:"post",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.next=6,s.json();case 6:e.sent,a.toggleRefresh(n);case 8:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.toggleRefresh=function(e){"personal"===e?a.setState({refreshPersonal:!a.state.refreshPersonal}):"meetings"===e&&a.setState({refreshMeetings:!a.state.refreshMeetings})},a.toggleRender=function(e){a.setState({whatToRender:e})},a.state={whatToRender:"MeetingList",refreshMeetings:!1,refreshPersonal:!1,textToHighlight:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){switch(this.state.whatToRender){case"MeetingList":return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{toggleRender:this.toggleRender,whatToRender:this.state.whatToRender}),r.a.createElement(b,{refresh:this.state.refreshMeetings,toggleDelete:this.toggleDelete,toggleRefresh:this.toggleRefresh,textToHighlight:this.state.textToHighlight}),r.a.createElement("aside",{className:"sidebar"},r.a.createElement(w,{toggleRefresh:this.toggleRefresh,id:"myForm"}),r.a.createElement(S,{handleSearch:this.handleSearch,filterText:this.state.textToHighlight})));case"PersonalList":return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{toggleRender:this.toggleRender,whatToRender:this.state.whatToRender}),r.a.createElement(v,{toggleDelete:this.toggleDelete,refresh:this.state.refreshPersonal,textToHighlight:this.state.textToHighlight}),r.a.createElement("aside",{className:"sidebar"},r.a.createElement(T,{toggleRefresh:this.toggleRefresh,id:"PersonalForm"}),r.a.createElement(S,{handleSearch:this.handleSearch,filterText:this.state.textToHighlight})));case"DepartmentsList":return r.a.createElement("h4",null,"Departments page will be in future.");case"Settings":return r.a.createElement("h4",null,"Settings page will be in future.");default:return r.a.createElement("h4",null,"404 not found")}}}]),t}(n.Component),j=(a(141),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement("footer",null,r.a.createElement("div",{className:"copyright"},"\xa9 2018")))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},76:function(e,t,a){e.exports=a(148)},81:function(e,t,a){}},[[76,2,1]]]);
//# sourceMappingURL=main.2f51f6a1.chunk.js.map